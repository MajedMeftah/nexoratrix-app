<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„ - NexoraTrix</title>
    <style>
        body { 
            font-family: 'Roboto', sans-serif; 
            background: #1E1E2F; 
            color: #CFCFCF; 
            direction: rtl;
            text-align: right;
        }
        .container { 
            max-width: 600px; 
            margin: 40px auto; 
            background: #232347; 
            border-radius: 12px; 
            padding: 32px; 
            box-shadow: 0 4px 24px #4B00B522; 
        }
        h1 { 
            color: #4B00B5; 
            text-align: center;
            margin-bottom: 32px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            color: #00C2A8;
            font-weight: bold;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #333;
            border-radius: 6px;
            background: #1E1E2F;
            color: #CFCFCF;
            font-size: 16px;
            box-sizing: border-box;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #00C2A8;
            outline: none;
        }
        .button {
            background: #4B00B5;
            color: #fff;
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 8px 8px 8px 0;
            font-size: 16px;
        }
        .button:hover {
            background: #6B20D5;
        }
        .button.secondary {
            background: #333;
        }
        .button.secondary:hover {
            background: #555;
        }
        .button.danger {
            background: #FF5E5B;
        }
        .button.danger:hover {
            background: #FF7E7B;
        }
        .alert {
            padding: 16px;
            margin-bottom: 20px;
            border-radius: 6px;
            font-weight: bold;
        }
        .alert.success {
            background: #00C2A8;
            color: #1E1E2F;
        }
        .alert.error {
            background: #FF5E5B;
            color: #fff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„</h1>
        
        <div style="text-align: center; margin-bottom: 32px;">
            <a href="/" class="button secondary">ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
            {% if client %}
            <a href="/client/{{ client.id }}" class="button secondary">ğŸ‘ï¸ Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù…ÙŠÙ„</a>
            {% endif %}
        </div>

        {% if updated %}
        <div class="alert success">
            âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!
        </div>
        {% endif %}

        {% if client %}
        <form method="post" action="/edit-client/{{ client.id }}">
            <div class="form-group">
                <label for="name">Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„:</label>
                <input type="text" id="name" name="name" value="{{ client.name }}" required aria-label="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
            </div>

            <div class="form-group">
                <label for="type">Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…ÙŠÙ„:</label>
                <select id="type" name="type" aria-label="Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…ÙŠÙ„">
                    <option value="personal" {% if client.type == 'personal' %}selected{% endif %}>Ø´Ø®ØµÙŠ</option>
                    <option value="business" {% if client.type == 'business' %}selected{% endif %}>Ø´Ø±ÙƒØ©</option>
                    <option value="content" {% if client.type == 'content' %}selected{% endif %}>ØµØ§Ù†Ø¹ Ù…Ø­ØªÙˆÙ‰</option>
                    <option value="trading" {% if client.type == 'trading' %}selected{% endif %}>ØªØ¯Ø§ÙˆÙ„</option>
                    <option value="education" {% if client.type == 'education' %}selected{% endif %}>ØªØ¹Ù„ÙŠÙ…</option>
                    <option value="legal" {% if client.type == 'legal' %}selected{% endif %}>Ù‚Ø§Ù†ÙˆÙ†</option>
                    <option value="ecommerce" {% if client.type == 'ecommerce' %}selected{% endif %}>ØªØ¬Ø§Ø±Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</option>
                </select>
            </div>

            <div class="form-group">
                <label for="settings">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (JSON Ø£Ùˆ Ù†Øµ Ø­Ø±):</label>
                <textarea id="settings" name="settings" rows="4" placeholder='{"language": "ar", "theme": "dark"}' aria-label="Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„">{{ client.settings or '' }}</textarea>
            </div>

            <div class="form-group">
                <label>Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:</label>
                <p style="color: #CFCFCF; background: #1E1E2F; padding: 12px; border-radius: 6px;">
                    Ø¹Ø¯Ø¯ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª: <strong style="color: #00C2A8;">{{ client.visits or 0 }}</strong><br>
                    ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡: <strong style="color: #00C2A8;">Ù…ØªÙˆÙØ± Ù‚Ø±ÙŠØ¨Ø§Ù‹</strong>
                </p>
            </div>

            <div style="text-align: center; margin-top: 32px;">
                <button type="submit" class="button">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</button>
                <a href="/" class="button secondary">âŒ Ø¥Ù„ØºØ§Ø¡</a>
                <form method="post" action="/delete-client/{{ client.id }}" style="display: inline;" 
                      onsubmit="return confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')">
                    <button type="submit" class="button danger">ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ø¹Ù…ÙŠÙ„</button>
                </form>
            </div>
        </form>
        {% else %}
        <div class="alert error">
            âŒ Ø§Ù„Ø¹Ù…ÙŠÙ„ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ Ø£Ùˆ ØªÙ… Ø­Ø°ÙÙ‡.
        </div>
        <div style="text-align: center;">
            <a href="/" class="button">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
        </div>
        {% endif %}
    </div>
</body>
</html>